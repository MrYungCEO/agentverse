[
  {
    "id": "1747914160118",
    "slug": "apolloio-lead-scraper-to-google-sheets-174791",
    "title": "Apollo.io Lead Scraper to Google Sheets",
    "summary": "This workflow automates lead scraping from Apollo.io based on provided search criteria, enriches the extracted data, removes duplicates, and appends or updates the information in a Google Sheets spreadsheet.",
    "templateData": "{\n  \"name\": \"LC Lead Scraper Core\",\n  \"nodes\": [\n    {\n      \"parameters\": {\n        \"workflowInputs\": {\n          \"values\": [\n            {\n              \"name\": \"query\"\n            }\n          ]\n        }\n      },\n      \"type\": \"n8n-nodes-base.executeWorkflowTrigger\",\n      \"typeVersion\": 1.1,\n      \"position\": [\n        -220,\n        100\n      ],\n      \"id\": \"1125000d-a04c-48f4-8545-e1c47e0034bd\",\n      \"name\": \"When Executed by Another Workflow\"\n    },\n    {\n      \"parameters\": {\n        \"url\": \"https://api.apify.com/v2/acts/code_crafter~apollo-io-scraper/run-sync-get-dataset-items?token=apify_api_BbvdH1EkowjIYTUU2d7P9WxIV6jL1H1lmb3K\",\n        \"sendQuery\": true,\n        \"queryParameters\": {\n          \"parameters\": [\n            {\n              \"name\": \"token\"\n            }\n          ]\n        },\n        \"sendBody\": true,\n        \"specifyBody\": \"json\",\n        \"jsonBody\": \"={\\n    \\\"getPersonalEmails\\\": true,\\n    \\\"getWorkEmails\\\": true,\\n    \\\"totalRecords\\\": 500,\\n    \\\"url\\\": \\\"{{ $json.finalURL }}\\\"\\n}\",\n        \"options\": {}\n      },\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"typeVersion\": 4.2,\n      \"position\": [\n        680,\n        0\n      ],\n      \"id\": \"b98b8a92-3931-4488-a26b-3a04e93a7439\",\n      \"name\": \"Apollo Scraper\",\n      \"alwaysOutputData\": true\n    },\n    {\n      \"parameters\": {\n        \"operation\": \"appendOrUpdate\",\n        \"documentId\": {\n          \"__rl\": true,\n          \"value\": \"1pc1h8gRecc7fd-xgFnVMCa-l1KvZBBiJQ3gZNgIbm4M\",\n          \"mode\": \"list\",\n          \"cachedResultName\": \"KK Lead Gen \",\n          \"cachedResultUrl\": \"https://docs.google.com/spreadsheets/d/1pc1h8gRecc7fd-xgFnVMCa-l1KvZBBiJQ3gZNgIbm4M/edit?usp=drivesdk\"\n        },\n        \"sheetName\": {\n          \"__rl\": true,\n          \"value\": 70081426,\n          \"mode\": \"list\",\n          \"cachedResultName\": \"Sheet1\",\n          \"cachedResultUrl\": \"https://docs.google.com/spreadsheets/d/1pc1h8gRecc7fd-xgFnVMCa-l1KvZBBiJQ3gZNgIbm4M/edit#gid=70081426\"\n        },\n        \"columns\": {\n          \"mappingMode\": \"defineBelow\",\n          \"value\": {\n            \"Full Name \": \"={{ $json.fullName }}\",\n            \"Email Address\": \"={{ $json.emailAddress }}\",\n            \"Phone Number\": \"={{ $json.Number }}\",\n            \"Country \": \"={{ $json.country }}\",\n            \"Location\": \"={{ $json.location }}\",\n            \"Industry\": \"={{ $json.businessIndustry }}\",\n            \"Company Name\": \"={{ $json.companyName }}\",\n            \"Job Title\": \"={{ $json.jobTitle }}\",\n            \"Seniority\": \"={{ $json[\\\"seniority \\\"] }}\",\n            \"Website URL\": \"={{ $json.websiteURL }}\",\n            \"LinkedIn URL\": \"={{ $json.linkedInURL }}\",\n            \"Contacted\": \"uncontacted\"\n          },\n          \"matchingColumns\": [\n            \"LinkedIn URL\"\n          ],\n          \"schema\": [\n            {\n              \"id\": \"Full Name \",\n              \"displayName\": \"Full Name \",\n              \"required\": false,\n              \"defaultMatch\": false,\n              \"display\": true,\n              \"type\": \"string\",\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"Email Address\",\n              \"displayName\": \"Email Address\",\n              \"required\": false,\n              \"defaultMatch\": false,\n              \"display\": true,\n              \"type\": \"string\",\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"Phone Number\",\n              \"displayName\": \"Phone Number\",\n              \"required\": false,\n              \"defaultMatch\": false,\n              \"display\": true,\n              \"type\": \"string\",\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"Country \",\n              \"displayName\": \"Country \",\n              \"required\": false,\n              \"defaultMatch\": false,\n              \"display\": true,\n              \"type\": \"string\",\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"Location\",\n              \"displayName\": \"Location\",\n              \"required\": false,\n              \"defaultMatch\": false,\n              \"display\": true,\n              \"type\": \"string\",\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"Industry\",\n              \"displayName\": \"Industry\",\n              \"required\": false,\n              \"defaultMatch\": false,\n              \"display\": true,\n              \"type\": \"string\",\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"Company Name\",\n              \"displayName\": \"Company Name\",\n              \"required\": false,\n              \"defaultMatch\": false,\n              \"display\": true,\n              \"type\": \"string\",\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"Job Title\",\n              \"displayName\": \"Job Title\",\n              \"required\": false,\n              \"defaultMatch\": false,\n              \"display\": true,\n              \"type\": \"string\",\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"Seniority\",\n              \"displayName\": \"Seniority\",\n              \"required\": false,\n              \"defaultMatch\": false,\n              \"display\": true,\n              \"type\": \"string\",\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"Website URL\",\n              \"displayName\": \"Website URL\",\n              \"required\": false,\n              \"defaultMatch\": false,\n              \"display\": true,\n              \"type\": \"string\",\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"LinkedIn URL\",\n              \"displayName\": \"LinkedIn URL\",\n              \"required\": false,\n              \"defaultMatch\": false,\n              \"display\": true,\n              \"type\": \"string\",\n              \"canBeUsedToMatch\": true,\n              \"removed\": false\n            },\n            {\n              \"id\": \"Research Report\",\n              \"displayName\": \"Research Report\",\n              \"required\": false,\n              \"defaultMatch\": false,\n              \"display\": true,\n              \"type\": \"string\",\n              \"canBeUsedToMatch\": true,\n              \"removed\": true\n            },\n            {\n              \"id\": \"Contacted\",\n              \"displayName\": \"Contacted\",\n              \"required\": false,\n              \"defaultMatch\": false,\n              \"display\": true,\n              \"type\": \"string\",\n              \"canBeUsedToMatch\": true,\n              \"removed\": false\n            },\n            {\n              \"id\": \"Outreach Message\",\n              \"displayName\": \"Outreach Message\",\n              \"required\": false,\n              \"defaultMatch\": false,\n              \"display\": true,\n              \"type\": \"string\",\n              \"canBeUsedToMatch\": true,\n              \"removed\": false\n            }\n          ],\n          \"attemptToConvertTypes\": false,\n          \"convertFieldsToString\": false\n        },\n        \"options\": {}\n      },\n      \"type\": \"n8n-nodes-base.googleSheets\",\n      \"typeVersion\": 4.5,\n      \"position\": [\n        1400,\n        0\n      ],\n      \"id\": \"459455bc-c032-498d-b5d3-a60af1763624\",\n      \"name\": \"Google Sheets\",\n      \"credentials\": {\n        \"googleSheetsOAuth2Api\": {\n          \"id\": \"NPxY4liPgqF2woYt\",\n          \"name\": \"Google Sheets account\"\n        }\n      }\n    },\n    {\n      \"parameters\": {\n        \"jsCode\": \"// Retrieve the input data from node A.\\nlet inputData = $node[\\\"JSON\\\"].json;\\n// If the output is an array, take the first element; otherwise, use it as is.\\nif (Array.isArray(inputData)) {\\n  inputData = inputData[0];\\n}\\n\\n// Now, access the \\\"query\\\" property. \\n// We expect \\\"query\\\" to be an array, so take its first element.\\nconst paramsData = inputData.query[0];\\n\\n// Base URL for Apollo\\nconst baseURL = 'https://app.apollo.io/#/people';\\n\\n// Array to hold each part of the query string\\nconst queryParts = [];\\n\\n// Add static parameters\\nqueryParts.push('sortByField=recommendations_score');\\nqueryParts.push('sortAscending=false');\\nqueryParts.push('page=1');\\n\\n// Helper function to process and add array parameters to queryParts\\nconst addArrayParams = (paramName, values) => {\\n  values.forEach(val => {\\n    // Replace '+' with space then encode the value \\n    // (e.g., \\\"sydney+australia\\\" -> \\\"sydney australia\\\" -> \\\"sydney%20australia\\\")\\n    const decodedValue = val.replace(/\\\\+/g, ' ');\\n    queryParts.push(`${paramName}[]=${encodeURIComponent(decodedValue)}`);\\n  });\\n};\\n\\n// Process job titles (maps to personTitles[])\\nif (paramsData.job_title && Array.isArray(paramsData.job_title)) {\\n  addArrayParams('personTitles', paramsData.job_title);\\n}\\n\\n// Process locations (maps to personLocations[])\\nif (paramsData.location && Array.isArray(paramsData.location)) {\\n  addArrayParams('personLocations', paramsData.location);\\n}\\n\\n// Process business keywords (maps to qOrganizationKeywordTags[])\\nif (paramsData.business && Array.isArray(paramsData.business)) {\\n  addArrayParams('qOrganizationKeywordTags', paramsData.business);\\n}\\n\\n// Add static included organization keyword fields\\nqueryParts.push('includedOrganizationKeywordFields[]=tags');\\nqueryParts.push('includedOrganizationKeywordFields[]=name');\\n\\n// Combine all query parts with '&' to form the full query string\\nconst queryString = queryParts.join('&');\\n\\n// Build the final URL\\nconst finalURL = `${baseURL}?${queryString}`;\\n\\n// Return the output as an array of objects\\nreturn [{ json: { finalURL } }];\"\n      },\n      \"type\": \"n8n-nodes-base.code\",\n      \"typeVersion\": 2,\n      \"position\": [\n        440,\n        0\n      ],\n      \"id\": \"e3b937c1-7d82-41f2-8d35-b2e06885e99b\",\n      \"name\": \"Create URL\"\n    },\n    {\n      \"parameters\": {\n        \"assignments\": {\n          \"assignments\": [\n            {\n              \"id\": \"336074e3-b3b9-4dde-92d7-fb5af51b8ffa\",\n              \"name\": \"fullName\",\n              \"value\": \"={{ $json.first_name }} {{ $json.last_name }}\",\n              \"type\": \"string\"\n            },\n            {\n              \"id\": \"da8362c5-75a5-4431-847d-fd4e02112bcc\",\n              \"name\": \"emailAddress\",\n              \"value\": \"={{ $json.email }}\",\n              \"type\": \"string\"\n            },\n            {\n              \"id\": \"3c99e0e0-4184-4e85-baa0-8bb85e4e227b\",\n              \"name\": \"linkedInURL\",\n              \"value\": \"={{ $json.linkedin_url }}\",\n              \"type\": \"string\"\n            },\n            {\n              \"id\": \"a45af1ff-7026-47a0-a42c-bdb3b27c8e3d\",\n              \"name\": \"seniority \",\n              \"value\": \"={{ $json.seniority }}\",\n              \"type\": \"string\"\n            },\n            {\n              \"id\": \"fa551406-a981-4fbb-babc-aa78ab10010d\",\n              \"name\": \"jobTitle\",\n              \"value\": \"={{ $json.employment_history[0].title }}\",\n              \"type\": \"string\"\n            },\n            {\n              \"id\": \"2e8d8d61-bd02-4f24-91f1-707152d99806\",\n              \"name\": \"companyName\",\n              \"value\": \"={{ $json.employment_history[0].organization_name }}\",\n              \"type\": \"string\"\n            },\n            {\n              \"id\": \"1295a702-636a-48bd-8bcd-df92162237fb\",\n              \"name\": \"location\",\n              \"value\": \"={{ $json.city }}, {{ $json.state }}\",\n              \"type\": \"string\"\n            },\n            {\n              \"id\": \"0072b657-0296-4858-b190-621831943816\",\n              \"name\": \"country\",\n              \"value\": \"={{ $json.country }}\",\n              \"type\": \"string\"\n            },\n            {\n              \"id\": \"22ce107c-30ef-4abe-9fab-8d49482da87c\",\n              \"name\": \"Number\",\n              \"value\": \"={{ $json.organization.primary_phone && $json.organization.primary_phone.sanitized_number && $json.organization.primary_phone.sanitized_number ? $json.organization.primary_phone.sanitized_number : null }}\",\n              \"type\": \"string\"\n            },\n            {\n              \"id\": \"302b9529-e16b-49ce-bbb6-ae2de90fed93\",\n              \"name\": \"websiteURL\",\n              \"value\": \"={{ $json.organization_website_url }}\",\n              \"type\": \"string\"\n            },\n            {\n              \"id\": \"13026de1-0927-44f7-8388-4d525f44974d\",\n              \"name\": \"businessIndustry\",\n              \"value\": \"={{ $('JSON').item.json.query[0].business[0].replaceAll('+',' ') }}\",\n              \"type\": \"string\"\n            }\n          ]\n        },\n        \"options\": {}\n      },\n      \"type\": \"n8n-nodes-base.set\",\n      \"typeVersion\": 3.4,\n      \"position\": [\n        960,\n        0\n      ],\n      \"id\": \"28facd3b-4889-461c-b5cc-d6926162f7b6\",\n      \"name\": \"Extract Info\"\n    },\n    {\n      \"parameters\": {\n        \"assignments\": {\n          \"assignments\": [\n            {\n              \"id\": \"2ecbc937-c5dc-4948-8d27-ccdb4d4a9bed\",\n              \"name\": \"output\",\n              \"value\": \"={{ $input.all().length }} new contacts have been added to the Google Sheet!\",\n              \"type\": \"string\"\n            }\n          ]\n        },\n        \"options\": {}\n      },\n      \"type\": \"n8n-nodes-base.set\",\n      \"typeVersion\": 3.4,\n      \"position\": [\n        1620,\n        0\n      ],\n      \"id\": \"d26de577-f11f-40c1-a263-9f827dc9df16\",\n      \"name\": \"Edit Fields\"\n    },\n    {\n      \"parameters\": {},\n      \"type\": \"n8n-nodes-base.limit\",\n      \"typeVersion\": 1,\n      \"position\": [\n        1820,\n        0\n      ],\n      \"id\": \"81c72cc6-6edb-4577-ad47-54b391dcd6f1\",\n      \"name\": \"Limit\"\n    },\n    {\n      \"parameters\": {\n        \"mode\": \"raw\",\n        \"jsonOutput\": \"={\\n\\\"query\\\": \\n{{ $json.query }}\\n\\n} \",\n        \"options\": {}\n      },\n      \"type\": \"n8n-nodes-base.set\",\n      \"typeVersion\": 3.4,\n      \"position\": [\n        220,\n        0\n      ],\n      \"id\": \"f43544aa-3af6-4e4f-8041-5f3b3c1e1051\",\n      \"name\": \"JSON\"\n    },\n    {\n      \"parameters\": {\n        \"operation\": \"removeItemsSeenInPreviousExecutions\",\n        \"dedupeValue\": \"={{ $json.linkedInURL }}\",\n        \"options\": {}\n      },\n      \"type\": \"n8n-nodes-base.removeDuplicates\",\n      \"typeVersion\": 2,\n      \"position\": [\n        1180,\n        0\n      ],\n      \"id\": \"6317ad8d-8da6-4797-ad96-8e40dd933ef9\",\n      \"name\": \"Remove Duplicates\"\n    },\n    {\n      \"parameters\": {\n        \"conditions\": {\n          \"options\": {\n            \"caseSensitive\": true,\n            \"leftValue\": \"\",\n            \"typeValidation\": \"strict\",\n            \"version\": 2\n          },\n          \"conditions\": [\n            {\n              \"id\": \"d1df5738-d279-4ca2-90ee-e3207b374296\",\n              \"leftValue\": \"={{ $json.query }}\",\n              \"rightValue\": \"\",\n              \"operator\": {\n                \"type\": \"string\",\n                \"operation\": \"notEmpty\",\n                \"singleValue\": true\n              }\n            }\n          ],\n          \"combinator\": \"and\"\n        },\n        \"options\": {}\n      },\n      \"type\": \"n8n-nodes-base.if\",\n      \"typeVersion\": 2.2,\n      \"position\": [\n        -40,\n        100\n      ],\n      \"id\": \"57c2afa1-27bd-4cf1-a280-52b219a49d09\",\n      \"name\": \"If\"\n    },\n    {\n      \"parameters\": {\n        \"url\": \"https://api.apify.com/v2/acts/code_crafter~apollo-io-scraper/run-sync-get-dataset-items?token=apify_api_BbvdH1EkowjIYTUU2d7P9WxIV6jL1H1lmb3K\",\n        \"sendQuery\": true,\n        \"queryParameters\": {\n          \"parameters\": [\n            {\n              \"name\": \"token\"\n            }\n          ]\n        },\n        \"sendBody\": true,\n        \"specifyBody\": \"json\",\n        \"jsonBody\": \"={\\n    \\\"getPersonalEmails\\\": true,\\n    \\\"getWorkEmails\\\": true,\\n    \\\"totalRecords\\\": 500,\\n    \\\"url\\\": \\\"https://app.apollo.io/#/people?sortByField=recommendations_score&sortAscending=false&page=1&personTitles[]=ceo&personTitles[]=owner&personLocations[]=georgia&qOrganizationKeywordTags[]=lawn%20care&includedOrganizationKeywordFields[]=tags&includedOrganizationKeywordFields[]=name\\\"\\n}\",\n        \"options\": {}\n      },\n      \"type\": \"n8n-nodes-base.httpRequest\",\n      \"typeVersion\": 4.2,\n      \"position\": [\n        680,\n        180\n      ],\n      \"id\": \"a763bb0a-0dd1-40d9-b2f1-176df1a531b0\",\n      \"name\": \"Apollo Scraper1\",\n      \"alwaysOutputData\": true\n    },\n    {\n      \"parameters\": {\n        \"operation\": \"appendOrUpdate\",\n        \"documentId\": {\n          \"__rl\": true,\n          \"value\": \"1pc1h8gRecc7fd-xgFnVMCa-l1KvZBBiJQ3gZNgIbm4M\",\n          \"mode\": \"list\",\n          \"cachedResultName\": \"KK Lead Gen \",\n          \"cachedResultUrl\": \"https://docs.google.com/spreadsheets/d/1pc1h8gRecc7fd-xgFnVMCa-l1KvZBBiJQ3gZNgIbm4M/edit?usp=drivesdk\"\n        },\n        \"sheetName\": {\n          \"__rl\": true,\n          \"value\": 70081426,\n          \"mode\": \"list\",\n          \"cachedResultName\": \"Sheet1\",\n          \"cachedResultUrl\": \"https://docs.google.com/spreadsheets/d/1pc1h8gRecc7fd-xgFnVMCa-l1KvZBBiJQ3gZNgIbm4M/edit#gid=70081426\"\n        },\n        \"columns\": {\n          \"mappingMode\": \"defineBelow\",\n          \"value\": {\n            \"Full Name \": \"={{ $json.fullName }}\",\n            \"Email Address\": \"={{ $json.emailAddress }}\",\n            \"Phone Number\": \"={{ $json.Number }}\",\n            \"Country \": \"={{ $json.country }}\",\n            \"Location\": \"={{ $json.location }}\",\n            \"Industry\": \"={{ $json.businessIndustry }}\",\n            \"Company Name\": \"={{ $json.companyName }}\",\n            \"Job Title\": \"={{ $json.jobTitle }}\",\n            \"Seniority\": \"={{ $json[\\\"seniority \\\"] }}\",\n            \"Website URL\": \"={{ $json.websiteURL }}\",\n            \"LinkedIn URL\": \"={{ $json.linkedInURL }}\",\n            \"Contacted\": \"uncontacted\"\n          },\n          \"matchingColumns\": [\n            \"LinkedIn URL\"\n          ],\n          \"schema\": [\n            {\n              \"id\": \"Full Name \",\n              \"displayName\": \"Full Name \",\n              \"required\": false,\n              \"defaultMatch\": false,\n              \"display\": true,\n              \"type\": \"string\",\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"Email Address\",\n              \"displayName\": \"Email Address\",\n              \"required\": false,\n              \"defaultMatch\": false,\n              \"display\": true,\n              \"type\": \"string\",\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"Phone Number\",\n              \"displayName\": \"Phone Number\",\n              \"required\": false,\n              \"defaultMatch\": false,\n              \"display\": true,\n              \"type\": \"string\",\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"Country \",\n              \"displayName\": \"Country \",\n              \"required\": false,\n              \"defaultMatch\": false,\n              \"display\": true,\n              \"type\": \"string\",\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"Location\",\n              \"displayName\": \"Location\",\n              \"required\": false,\n              \"defaultMatch\": false,\n              \"display\": true,\n              \"type\": \"string\",\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"Industry\",\n              \"displayName\": \"Industry\",\n              \"required\": false,\n              \"defaultMatch\": false,\n              \"display\": true,\n              \"type\": \"string\",\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"Company Name\",\n              \"displayName\": \"Company Name\",\n              \"required\": false,\n              \"defaultMatch\": false,\n              \"display\": true,\n              \"type\": \"string\",\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"Job Title\",\n              \"displayName\": \"Job Title\",\n              \"required\": false,\n              \"defaultMatch\": false,\n              \"display\": true,\n              \"type\": \"string\",\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"Seniority\",\n              \"displayName\": \"Seniority\",\n              \"required\": false,\n              \"defaultMatch\": false,\n              \"display\": true,\n              \"type\": \"string\",\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"Website URL\",\n              \"displayName\": \"Website URL\",\n              \"required\": false,\n              \"defaultMatch\": false,\n              \"display\": true,\n              \"type\": \"string\",\n              \"canBeUsedToMatch\": true\n            },\n            {\n              \"id\": \"LinkedIn URL\",\n              \"displayName\": \"LinkedIn URL\",\n              \"required\": false,\n              \"defaultMatch\": false,\n              \"display\": true,\n              \"type\": \"string\",\n              \"canBeUsedToMatch\": true,\n              \"removed\": false\n            },\n            {\n              \"id\": \"Research Report\",\n              \"displayName\": \"Research Report\",\n              \"required\": false,\n              \"defaultMatch\": false,\n              \"display\": true,\n              \"type\": \"string\",\n              \"canBeUsedToMatch\": true,\n              \"removed\": true\n            },\n            {\n              \"id\": \"Contacted\",\n              \"displayName\": \"Contacted\",\n              \"required\": false,\n              \"defaultMatch\": false,\n              \"display\": true,\n              \"type\": \"string\",\n              \"canBeUsedToMatch\": true,\n              \"removed\": false\n            },\n            {\n              \"id\": \"Outreach Message\",\n              \"displayName\": \"Outreach Message\",\n              \"required\": false,\n              \"defaultMatch\": false,\n              \"display\": true,\n              \"type\": \"string\",\n              \"canBeUsedToMatch\": true,\n              \"removed\": false\n            }\n          ],\n          \"attemptToConvertTypes\": false,\n          \"convertFieldsToString\": false\n        },\n        \"options\": {}\n      },\n      \"type\": \"n8n-nodes-base.googleSheets\",\n      \"typeVersion\": 4.5,\n      \"position\": [\n        1400,\n        180\n      ],\n      \"id\": \"9cf941ea-dfd4-4f5b-8b56-5353d93369f0\",\n      \"name\": \"Google Sheets1\",\n      \"credentials\": {\n        \"googleSheetsOAuth2Api\": {\n          \"id\": \"NPxY4liPgqF2woYt\",\n          \"name\": \"Google Sheets account\"\n        }\n      }\n    },\n    {\n      \"parameters\": {\n        \"jsCode\": \"// Retrieve the input data from node A.\\nlet inputData = $node[\\\"JSON1\\\"].json;\\n// If the output is an array, take the first element; otherwise, use it as is.\\nif (Array.isArray(inputData)) {\\n  inputData = inputData[0];\\n}\\n\\n// Now, access the \\\"query\\\" property. \\n// We expect \\\"query\\\" to be an array, so take its first element.\\nconst paramsData = inputData.query[0];\\n\\n// Base URL for Apollo\\nconst baseURL = 'https://app.apollo.io/#/people';\\n\\n// Array to hold each part of the query string\\nconst queryParts = [];\\n\\n// Add static parameters\\nqueryParts.push('sortByField=recommendations_score');\\nqueryParts.push('sortAscending=false');\\nqueryParts.push('page=1');\\n\\n// Helper function to process and add array parameters to queryParts\\nconst addArrayParams = (paramName, values) => {\\n  values.forEach(val => {\\n    // Replace '+' with space then encode the value \\n    // (e.g., \\\"sydney+australia\\\" -> \\\"sydney australia\\\" -> \\\"sydney%20australia\\\")\\n    const decodedValue = val.replace(/\\\\+/g, ' ');\\n    queryParts.push(`${paramName}[]=${encodeURIComponent(decodedValue)}`);\\n  });\\n};\\n\\n// Process job titles (maps to personTitles[])\\nif (paramsData.job_title && Array.isArray(paramsData.job_title)) {\\n  addArrayParams('personTitles', paramsData.job_title);\\n}\\n\\n// Process locations (maps to personLocations[])\\nif (paramsData.location && Array.isArray(paramsData.location)) {\\n  addArrayParams('personLocations', paramsData.location);\\n}\\n\\n// Process business keywords (maps to qOrganizationKeywordTags[])\\nif (paramsData.business && Array.isArray(paramsData.business)) {\\n  addArrayParams('qOrganizationKeywordTags', paramsData.business);\\n}\\n\\n// Add static included organization keyword fields\\nqueryParts.push('includedOrganizationKeywordFields[]=tags');\\nqueryParts.push('includedOrganizationKeywordFields[]=name');\\n\\n// Combine all query parts with '&' to form the full query string\\nconst queryString = queryParts.join('&');\\n\\n// Build the final URL\\nconst finalURL = `${baseURL}?${queryString}`;\\n\\n// Return the output as an array of objects\\nreturn [{ json: { finalURL } }];\"\n      },\n      \"type\": \"n8n-nodes-base.code\",\n      \"typeVersion\": 2,\n      \"position\": [\n        440,\n        180\n      ],\n      \"id\": \"2a2f78cb-2de9-4821-be82-84ca0ec6e37d\",\n      \"name\": \"Create URL1\"\n    },\n    {\n      \"parameters\": {\n        \"assignments\": {\n          \"assignments\": [\n            {\n              \"id\": \"336074e3-b3b9-4dde-92d7-fb5af51b8ffa\",\n              \"name\": \"fullName\",\n              \"value\": \"={{ $json.first_name }} {{ $json.last_name }}\",\n              \"type\": \"string\"\n            },\n            {\n              \"id\": \"da8362c5-75a5-4431-847d-fd4e02112bcc\",\n              \"name\": \"emailAddress\",\n              \"value\": \"={{ $json.email }}\",\n              \"type\": \"string\"\n            },\n            {\n              \"id\": \"3c99e0e0-4184-4e85-baa0-8bb85e4e227b\",\n              \"name\": \"linkedInURL\",\n              \"value\": \"={{ $json.linkedin_url }}\",\n              \"type\": \"string\"\n            },\n            {\n              \"id\": \"a45af1ff-7026-47a0-a42c-bdb3b27c8e3d\",\n              \"name\": \"seniority \",\n              \"value\": \"={{ $json.seniority }}\",\n              \"type\": \"string\"\n            },\n            {\n              \"id\": \"fa551406-a981-4fbb-babc-aa78ab10010d\",\n              \"name\": \"jobTitle\",\n              \"value\": \"={{ $json.employment_history[0].title }}\",\n              \"type\": \"string\"\n            },\n            {\n              \"id\": \"2e8d8d61-bd02-4f24-91f1-707152d99806\",\n              \"name\": \"companyName\",\n              \"value\": \"={{ $json.employment_history[0].organization_name }}\",\n              \"type\": \"string\"\n            },\n            {\n              \"id\": \"1295a702-636a-48bd-8bcd-df92162237fb\",\n              \"name\": \"location\",\n              \"value\": \"={{ $json.city }}, {{ $json.state }}\",\n              \"type\": \"string\"\n            },\n            {\n              \"id\": \"0072b657-0296-4858-b190-621831943816\",\n              \"name\": \"country\",\n              \"value\": \"={{ $json.country }}\",\n              \"type\": \"string\"\n            },\n            {\n              \"id\": \"22ce107c-30ef-4abe-9fab-8d49482da87c\",\n              \"name\": \"Number\",\n              \"value\": \"={{ $json.organization.primary_phone && $json.organization.primary_phone.sanitized_number && $json.organization.primary_phone.sanitized_number ? $json.organization.primary_phone.sanitized_number : null }}\",\n              \"type\": \"string\"\n            },\n            {\n              \"id\": \"302b9529-e16b-49ce-bbb6-ae2de90fed93\",\n              \"name\": \"websiteURL\",\n              \"value\": \"={{ $json.organization_website_url }}\",\n              \"type\": \"string\"\n            },\n            {\n              \"id\": \"13026de1-0927-44f7-8388-4d525f44974d\",\n              \"name\": \"businessIndustry\",\n              \"value\": \"={{ $('JSON1').item.json.query[0].business[0].replaceAll('+',' ') }}\",\n              \"type\": \"string\"\n            }\n          ]\n        },\n        \"options\": {}\n      },\n      \"type\": \"n8n-nodes-base.set\",\n      \"typeVersion\": 3.4,\n      \"position\": [\n        960,\n        180\n      ],\n      \"id\": \"2d327492-8eae-4302-bfc3-2d66624df566\",\n      \"name\": \"Extract Info1\"\n    },\n    {\n      \"parameters\": {\n        \"assignments\": {\n          \"assignments\": [\n            {\n              \"id\": \"2ecbc937-c5dc-4948-8d27-ccdb4d4a9bed\",\n              \"name\": \"output\",\n              \"value\": \"={{ $input.all().length }} new contacts have been added to the Google Sheet!\",\n              \"type\": \"string\"\n            }\n          ]\n        },\n        \"options\": {}\n      },\n      \"type\": \"n8n-nodes-base.set\",\n      \"typeVersion\": 3.4,\n      \"position\": [\n        1620,\n        180\n      ],\n      \"id\": \"35d126df-b1c8-49b0-95b5-668d52abc1b8\",\n      \"name\": \"Edit Fields1\"\n    },\n    {\n      \"parameters\": {},\n      \"type\": \"n8n-nodes-base.limit\",\n      \"typeVersion\": 1,\n      \"position\": [\n        1820,\n        180\n      ],\n      \"id\": \"655a31d3-0f29-4263-aa82-2e492de008c3\",\n      \"name\": \"Limit1\"\n    },\n    {\n      \"parameters\": {\n        \"mode\": \"raw\",\n        \"jsonOutput\": \"={\\n\\\"query\\\": \\n\\n[{\\\"location\\\":[\\\"georgia\\\"],\\\"business\\\":[\\\"real+estate\\\"],\\\"job_title\\\":[\\\"ceo\\\",\\\"agent\\\"]}]\\n} \",\n        \"options\": {}\n      },\n      \"type\": \"n8n-nodes-base.set\",\n      \"typeVersion\": 3.4,\n      \"position\": [\n        220,\n        180\n      ],\n      \"id\": \"f5ad998c-0bd7-42c7-95b5-84a18df618f4\",\n      \"name\": \"JSON1\"\n    },\n    {\n      \"parameters\": {\n        \"operation\": \"removeItemsSeenInPreviousExecutions\",\n        \"dedupeValue\": \"={{ $json.linkedInURL }}\",\n        \"options\": {}\n      },\n      \"type\": \"n8n-nodes-base.removeDuplicates\",\n      \"typeVersion\": 2,\n      \"position\": [\n        1180,\n        180\n      ],\n      \"id\": \"1912383a-622f-4f9a-84de-cd96ef5b25f9\",\n      \"name\": \"Remove Duplicates1\"\n    }\n  ],\n  \"pinData\": {},\n  \"connections\": {\n    \"When Executed by Another Workflow\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"If\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Apollo Scraper\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Extract Info\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Create URL\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Apollo Scraper\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Extract Info\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Remove Duplicates\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Google Sheets\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Edit Fields\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Edit Fields\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Limit\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"JSON\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Create URL\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Remove Duplicates\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Google Sheets\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"If\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"JSON\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ],\n        [\n          {\n            \"node\": \"JSON1\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Apollo Scraper1\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Extract Info1\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Google Sheets1\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Edit Fields1\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Create URL1\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Apollo Scraper1\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Extract Info1\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Remove Duplicates1\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Edit Fields1\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Limit1\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"JSON1\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Create URL1\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    },\n    \"Remove Duplicates1\": {\n      \"main\": [\n        [\n          {\n            \"node\": \"Google Sheets1\",\n            \"type\": \"main\",\n            \"index\": 0\n          }\n        ]\n      ]\n    }\n  },\n  \"active\": false,\n  \"settings\": {\n    \"executionOrder\": \"v1\"\n  },\n  \"versionId\": \"76cefc48-5352-494b-b6cd-80ea10d6633f\",\n  \"meta\": {\n    \"templateCredsSetupCompleted\": true,\n    \"instanceId\": \"8715b1a1f0244857f9c87b26f030388c15471bf1ed1b62cf4e01a1aa09aa405f\"\n  },\n  \"id\": \"bWMnYtr9vhqrOy9f\",\n  \"tags\": []\n}",
    "isCollection": false,
    "setupGuide": "1. Obtain an Apify API token and Google Sheets API credentials.\n2. Configure the 'Apollo Scraper' and 'Apollo Scraper1' nodes with your Apify API token.\n3. Configure the 'Google Sheets' and 'Google Sheets1' nodes with your Google Sheets API credentials and the target spreadsheet ID and sheet name.\n4. Define the search queries in the 'JSON' and 'JSON1' nodes, including job titles, locations, and business keywords.\n5. Ensure all required dependencies are installed for the Code nodes.",
    "useCases": [
      "Automatically build a list of potential sales leads in a specific industry and location.",
      "Enrich existing CRM data with up-to-date contact information from Apollo.io.",
      "Generate targeted lead lists for marketing campaigns based on specific job titles and business keywords.",
      "Create a database of potential investors or partners in a particular sector."
    ],
    "type": "n8n",
    "createdAt": "2025-05-22T11:42:40.118Z",
    "updatedAt": "2025-05-22T11:42:40.118Z",
    "imageUrl": null,
    "imageVisible": false,
    "videoUrl": null,
    "iconName": "Users",
    "additionalFiles": []
  }
]